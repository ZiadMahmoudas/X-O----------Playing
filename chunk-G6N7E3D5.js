import{a as J}from"./chunk-DZRNPYBN.js";import{d as A,e as q}from"./chunk-2EPKHZCL.js";import{h as W}from"./chunk-IRDK2I2U.js";import{a as D,b as m,c as j,d as Y,e as v,g as G,i as L,j as B,k as U,l as Z,o as Q,q as H}from"./chunk-2GGCCMO2.js";import{c as z}from"./chunk-D3ZEN3NJ.js";import{$ as C,Aa as F,Ga as S,Ib as E,Jb as V,Na as d,Oa as c,Sb as R,Ta as u,Ua as i,Va as n,Wa as f,aa as _,ab as N,cb as b,ga as x,jb as M,kb as k,la as g,lb as O,nb as p,pb as a,ra as r,rb as T,va as l,xb as I}from"./chunk-22QBDJS3.js";var h=class{static ValidateAllFormFields(o){Object.keys(o.controls).forEach(t=>{let e=o.get(t);e instanceof G?(e.markAsDirty({onlySelf:!0}),e?.markAsTouched({onlySelf:!0})):e instanceof v&&this.ValidateAllFormFields(e)})}};var X=["passwordInput"],$=["#confirmPasswordField"],ee=()=>["/login"];function te(s,o){s&1&&(i(0,"small",8),a(1,"This Field Required"),n())}function oe(s,o){s&1&&(i(0,"small",8),a(1,"This Felid must At Least 2 characters"),n())}function ie(s,o){s&1&&(i(0,"small",8),a(1,"Email Required"),n())}function ne(s,o){s&1&&(i(0,"small",8),a(1),n()),s&2&&(r(),T("Email Pattern should be contain ","(@ gmail|mail|outlook .com|org|net)"))}function re(s,o){s&1&&(i(0,"small",8),a(1,"Passwords do not match."),n())}function se(s,o){s&1&&(i(0,"small",18),a(1,"Passwords must match."),n())}var K=class s{constructor(o,t,e,w,y,P){this.tostar=o;this.FB=t;this.auth=e;this.router=w;this.cdr=y;this.NgZone=P;this.signupForm=this.FB.group({email:["",[m.required,m.email]],userName:["",[m.required,m.pattern(/[a-z]{2,}/i)]],password:["",[m.required]],confirmPassword:["",[m.required]]},{Validator:J("password","confirmPassword")})}isEyeOpen=x(!0);passwordInputRef=E("passwordInput",{read:g});confirmPasswordField=E("#confirmPasswordField",{read:g});isConfirmPasswordEyeOpen=x(!0);togglePasswordEye(o){this.isEyeOpen.update(t=>{let e=!t;return o.type=e?"text":"password",e})}toggleConfirmPasswordEye(o){this.isConfirmPasswordEyeOpen.update(t=>{let e=!t;return o.type=e?"text":"password",e})}successMatch=!1;ngOnInit(){this.toggleConfirmPasswordEye(this.confirmPasswordField),this.togglePasswordEye(this.passwordInputRef),this.signupForm.statusChanges.subscribe(o=>{let t=this.signupForm.hasError("passwordMismatch"),e=this.signupForm.get("confirmPassword")?.touched;!t&&e&&(this.successMatch=!0,setTimeout(()=>{this.successMatch=!1},3e3))})}signupForm=new v("");get userName(){return this.signupForm.controls.userName}get password(){return this.signupForm.controls.password}get email(){return this.signupForm.controls.email}get confirmPassword(){return this.signupForm.controls.confirmPassword}onsubmit(){if(this.signupForm.invalid){h.ValidateAllFormFields(this.signupForm),this.tostar.warning("Please Enter All Fields","Not Get AnyThing \u{1F608}");return}this.auth.signup(this.signupForm.value).subscribe({next:o=>{setTimeout(()=>{this.NgZone.run(()=>{this.cdr.detectChanges()})},0),this.tostar.success("Thanks For Success in my website","Welcome happy For you"),this.auth.saveNewTokens(o.accessToken),this.signupForm.reset(),this.router.navigate(["/games"])},error:o=>{if(o.status===400&&o.error&&Array.isArray(o.error.errors)){let t=o.error.errors.join(" | ");t.includes("Email already exists")||t.includes("Username already exists")?this.tostar.error("The email address or username already exists."):this.tostar.error(t,"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A")}else o.status===409?this.tostar.error("\u{1F62C}Oops Conflict: This Email is Already Exist"):this.tostar.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u062A\u0648\u0642\u0639. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0644\u0627\u062D\u0642\u0627\u064B.","\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0633\u064A\u0631\u0641\u0631")}})}invalidLogin=!1;isInvalid(o){let t=this.signupForm.get(o);return t?t.invalid&&(t.dirty||t.touched)||this.invalidLogin:!1}isValid(o){let t=this.signupForm.get(o);return t?t.valid&&(t.dirty||t.touched)&&!this.invalidLogin:!1}static \u0275fac=function(t){return new(t||s)(l(W),l(Q),l(z),l(A),l(V),l(S))};static \u0275cmp=F({type:s,selectors:[["app-signup"]],viewQuery:function(t,e){t&1&&(M(e.passwordInputRef,X,5,g),M(e.confirmPasswordField,$,5,g)),t&2&&k(2)},decls:37,vars:36,consts:[["passwordInput",""],["confirmPasswordField",""],[1,"fullScreen"],[1,"signup-container"],[3,"ngSubmit","formGroup"],[1,"input-group"],["for","username"],["formControlName","userName","type","text","id","username","name","username","placeholder","Please Enter Your UserName","required",""],[1,"text-danger"],["for","email"],["formControlName","email","type","email","id","email","name","email","placeholder","Please Enter Your Email","required",""],[1,"input-group","password-toggle"],["for","password"],["formControlName","password","id","password","name","password","placeholder","Please Enter Your password","required","",3,"type"],[1,"fa-duotone","fa-light","fa-eye","toggle-password",3,"click"],["for","confirm-password"],["formControlName","confirmPassword","id","confirm-password","name","confirm-password","placeholder","Confirm Password","required","",3,"type"],[1,"fa-duotone","fa-light","toggle-password",3,"click"],[1,"text-success"],["type","submit",3,"disabled"],[1,"login-link"],[3,"routerLink"]],template:function(t,e){if(t&1){let w=N();i(0,"div",2)(1,"div",3)(2,"h2"),a(3,"SignUP"),n(),i(4,"form",4),b("ngSubmit",function(){return C(w),_(e.onsubmit())}),i(5,"div",5)(6,"label",6),a(7,"UserName"),n(),f(8,"input",7),n(),d(9,te,2,0,"small",8),d(10,oe,2,0,"small",8),i(11,"div",5)(12,"label",9),a(13,"Email"),n(),f(14,"input",10),n(),d(15,ie,2,0,"small",8),d(16,ne,2,1,"small",8),i(17,"div",11)(18,"label",12),a(19,"password"),n(),f(20,"input",13,0),i(22,"i",14),b("click",function(){C(w);let P=O(21);return _(e.togglePasswordEye(P))}),n()(),i(23,"div",11)(24,"label",15),a(25,"Confirm Password"),n(),f(26,"input",16,1),i(28,"i",17),b("click",function(){C(w);let P=O(27);return _(e.toggleConfirmPasswordEye(P))}),n()(),d(29,re,2,0,"small",8),d(30,se,2,0,"small",18),i(31,"button",19),a(32,"^SignUP^"),n()(),i(33,"div",20),a(34," Have Your Account "),i(35,"a",21),a(36,"Login"),n()()()()}t&2&&(r(4),u("formGroup",e.signupForm),r(4),p("error",e.isInvalid("userName"))("success",e.isValid("userName")),r(),c(e.userName.hasError("required")&&e.userName.touched?9:-1),r(),c(e.userName.hasError("pattern")?10:-1),r(4),p("error",e.isInvalid("email"))("success",e.isValid("email")),r(),c(e.email.errors!=null&&e.email.errors.required&&e.email.touched?15:-1),r(),c(e.email.hasError("pattern")?16:-1),r(4),p("error",e.isInvalid("password"))("success",e.isValid("password")),u("type",e.isEyeOpen()?"text":"password"),r(2),p("fa-eye",e.isEyeOpen())("fa-eye-slash",!e.isEyeOpen()),r(4),p("error",e.isInvalid("confirmPassword"))("success",e.isValid("confirmPassword")),u("type",e.isConfirmPasswordEyeOpen()?"text":"password"),r(2),p("fa-eye",e.isConfirmPasswordEyeOpen())("fa-eye-slash",!e.isConfirmPasswordEyeOpen()),r(),c(e.signupForm.hasError("passwordMismatch")&&e.signupForm.touched?29:-1),r(),c(e.successMatch&&!e.signupForm.hasError("passwordMismatch")?30:-1),r(),u("disabled",e.signupForm.invalid),r(4),u("routerLink",I(35,ee)))},dependencies:[q,H,L,D,j,Y,Z,B,U,R],styles:['.fullScreen[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;color:#333}.password-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:12px 40px 12px 10px;border:1px solid #ddd;border-radius:8px;font-size:1em;transition:border-color .3s ease,box-shadow .3s ease;box-sizing:border-box}.password-toggle[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;top:71%;right:32px;transform:translateY(-71%);cursor:pointer;color:#aaa;font-size:1.1em;transition:color .3s ease}.password-toggle[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#666}.signup-container[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:15px;margin-top:64px;box-shadow:0 10px 30px #0003;width:100%;max-width:450px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:25px;font-size:2em;position:relative}h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:60px;height:4px;background-color:#2575fc;border-radius:2px}.input-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:right}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:600;color:#555;font-size:.95em}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:12px 10px;border:1px solid #ddd;border-radius:8px;font-size:1em;transition:border-color .3s ease,box-shadow .3s ease}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#2575fc;box-shadow:0 0 0 3px #2575fc33;outline:none}.password-toggle[_ngcontent-%COMP%]{position:relative}.password-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);cursor:pointer;color:#aaa;font-size:1.1em;transition:color .3s ease}.password-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]:hover{color:#666}button[_ngcontent-%COMP%]{background-color:#2575fc;color:#fff;padding:15px 30px;border:none;border-radius:8px;font-size:1.1em;font-weight:600;cursor:pointer;transition:background-color .3s ease,transform .2s ease;width:100%;margin-top:20px}button[_ngcontent-%COMP%]:hover{background-color:#1a5acb;transform:translateY(-2px)}.social-signup[_ngcontent-%COMP%]{margin-top:25px;border-top:1px solid #eee;padding-top:25px}.social-signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:15px;font-size:.9em}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.social-button[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #ddd;padding:12px 20px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease;display:flex;align-items:center;gap:8px;font-size:.9em;color:#444;text-decoration:none}.social-button[_ngcontent-%COMP%]:hover{background-color:#e9e9e9;transform:translateY(-2px)}.social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.login-link[_ngcontent-%COMP%]{margin-top:25px;font-size:.9em;color:#666}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2575fc;text-decoration:none;font-weight:600;transition:color .3s ease}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1a5acb;text-decoration:underline}.input-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:red;box-shadow:0 0 0 3px #d6010133;outline:none}.input-group[_ngcontent-%COMP%]   input.success[_ngcontent-%COMP%]{border-color:#0f0;box-shadow:0 0 0 3px #01d60133;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:.85em;margin-top:1px;text-align:right}']})};export{K as Signup};
