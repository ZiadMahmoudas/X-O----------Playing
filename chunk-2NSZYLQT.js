import{a as A,b as $}from"./chunk-BV4IUNO5.js";import{b as B,d as j}from"./chunk-2EPKHZCL.js";import{d as V}from"./chunk-2X2WE554.js";import{a as z}from"./chunk-G5KA7DMQ.js";import{c as U}from"./chunk-D3ZEN3NJ.js";import{$ as m,Aa as G,Ab as w,Jb as T,Na as u,Oa as h,Ob as N,Pa as I,R as k,Ra as E,Rb as D,Sa as X,Sb as R,Ta as P,Ua as o,Va as i,aa as p,ab as x,cb as f,eb as d,m as C,nb as y,pb as s,qb as b,ra as l,rb as v,va as _,zb as M}from"./chunk-22QBDJS3.js";var O=class a{hubConnection;spectatorCountSubject=new C(0);moveMadeSubject=new C(null);gameStatusChangedSubject=new C(null);connectedSubject=new C(!1);scoresUpdatedSubject=new C({playerXScore:0,playerOScore:0});gameResetSubject=new C(null);constructor(){}async startConnection(t,e){this.hubConnection=new V().withUrl("https://xoname.runasp.net/gameHub",{accessTokenFactory:()=>localStorage.getItem("accessToken")||""}).withAutomaticReconnect().build(),this.hubConnection.on("ScoresUpdated",(n,r)=>{console.log("\u{1F4CA} Scores Updated:",{playerXScore:n,playerOScore:r}),this.scoresUpdatedSubject.next({playerXScore:n,playerOScore:r})}),this.hubConnection.on("GameReset",(n,r)=>{console.log("\u{1F504} Game Reset received:",{boardState:n,gameStatus:r}),this.gameResetSubject.next({boardState:n,gameStatus:r})}),this.hubConnection.on("SpectatorCountChanged",n=>{console.log("\u{1F465} Spectator count changed:",n),this.spectatorCountSubject.next(n)}),this.hubConnection.on("MoveMade",(n,r)=>{console.log("\u{1F4E1} Move made:",{position:n,symbol:r}),this.moveMadeSubject.next({position:n,symbol:r})}),this.hubConnection.on("GameStatusChanged",n=>{console.log("\u{1F3C1} Game status changed:",n),this.gameStatusChangedSubject.next(n)}),await this.hubConnection.start(),this.connectedSubject.next(!0),console.log("\u2705 SignalR Connected"),await this.hubConnection.invoke("JoinGame",t,e)}async leaveGame(t,e){if(this.hubConnection)try{await this.hubConnection.invoke("LeaveGame",t,e),console.log("\u{1F44B} Left game successfully")}catch(n){console.error("Error leaving game:",n)}}stopConnection(){this.hubConnection&&(this.hubConnection.stop(),this.connectedSubject.next(!1),console.log("\u{1F50C} SignalR Disconnected"))}async notifyMove(t,e,n){if(this.hubConnection)try{await this.hubConnection.invoke("NotifyMove",t,e,n)}catch(r){console.error("Error notifying move:",r)}}async updateScore(t,e,n){if(this.hubConnection)try{await this.hubConnection.invoke("UpdateScore",t,e,n),console.log("\u{1F4CA} Score updated via SignalR")}catch(r){console.error("Error updating score:",r)}}async resetScores(t){if(this.hubConnection)try{await this.hubConnection.invoke("ResetScores",t),console.log("\u{1F504} Scores reset via SignalR")}catch(e){console.error("Error resetting scores:",e)}}getSpectatorCount(){return this.spectatorCountSubject.asObservable()}getMoveMade(){return this.moveMadeSubject.asObservable()}getGameStatusChanged(){return this.gameStatusChangedSubject.asObservable()}isConnected(){return this.connectedSubject.asObservable()}getScoresUpdated(){return this.scoresUpdatedSubject.asObservable()}getGameReset(){return this.gameResetSubject.asObservable()}static \u0275fac=function(e){return new(e||a)};static \u0275prov=k({token:a,factory:a.\u0275fac,providedIn:"root"})};function K(a,t){a&1&&(o(0,"div",1)(1,"h2"),s(2,"Loading game..."),i()())}function Y(a,t){if(a&1){let e=x();o(0,"div",2)(1,"h2"),s(2),i(),o(3,"button",4),f("click",function(){m(e);let r=d();return p(r.goBack())}),s(4,"Go Back"),i()()}if(a&2){let e=d();l(2),v("\u274C ",e.error)}}function J(a,t){a&1&&(o(0,"span",19),s(1,"\u25C0 Turn"),i())}function H(a,t){a&1&&(o(0,"span",19),s(1,"Turn \u25B6"),i())}function q(a,t){a&1&&(o(0,"div",23),s(1," \u{1F441}\uFE0F You are spectating this game - You cannot make moves "),i())}function Q(a,t){if(a&1&&(o(0,"div",24),s(1),i()),a&2){let e=d(2);l(),v(" \u{1F3AE} You are playing as ",e.playerName," ")}}function Z(a,t){a&1&&(o(0,"span",31),s(1,"\u274C"),i())}function ee(a,t){a&1&&(o(0,"span",32),s(1,"\u2B55"),i())}function te(a,t){if(a&1){let e=x();o(0,"button",30),f("click",function(){let r=m(e).$index,S=d(2);return p(S.makeMove(r))}),u(1,Z,2,0,"span",31)(2,ee,2,0,"span",32),i()}if(a&2){let e=t.$implicit,n=t.$index,r=d(2);y("cell-x",e==="X")("cell-o",e==="O")("cell-empty",e===" ")("clickable",r.canMakeMove(n)),P("disabled",!r.canMakeMove(n)),l(),h(e==="X"?1:e==="O"?2:-1)}}function ne(a,t){if(a&1&&(o(0,"div",29)(1,"h4"),s(2,"Game Ended"),i(),o(3,"p"),s(4),M(5,"date"),i()()),a&2){let e=d(2);l(4),b(w(5,1,e.game==null?null:e.game.completedAt,"short"))}}function ie(a,t){if(a&1){let e=x();o(0,"div",5)(1,"div",6)(2,"button",7),f("click",function(){m(e);let r=d();return p(r.goBack())}),s(3,"\u2190 Back to Games"),i(),o(4,"h2"),s(5),i()(),o(6,"div",8)(7,"div",9)(8,"span",10),s(9,"\u274C"),i(),o(10,"div",11)(11,"span",12),s(12),i(),o(13,"span",13),s(14),i()()(),o(15,"div",14),s(16,"-"),i(),o(17,"div",9)(18,"div",11)(19,"span",12),s(20),i(),o(21,"span",13),s(22),i()(),o(23,"span",10),s(24,"\u2B55"),i()()(),o(25,"div",15)(26,"div",16)(27,"span",17),s(28,"\u274C"),i(),o(29,"span",18),s(30),i(),u(31,J,2,0,"span",19),i(),o(32,"div",20),s(33,"VS"),i(),o(34,"div",21)(35,"span",17),s(36,"\u2B55"),i(),o(37,"span",18),s(38),i(),u(39,H,2,0,"span",19),i()(),o(40,"div",22)(41,"h3"),s(42),i()(),u(43,q,2,0,"div",23)(44,Q,2,1,"div",24),i(),o(45,"div",25)(46,"div",26),E(47,te,3,10,"button",27,I),i()(),o(49,"div",28)(50,"div",29)(51,"h4"),s(52,"Game Started"),i(),o(53,"p"),s(54),M(55,"date"),i()(),u(56,ne,6,4,"div",29),i()}if(a&2){let e=d();l(5),v("Game #",e.gameId),l(2),y("winning",e.playerXScore>e.playerOScore),l(5),b(e.game==null?null:e.game.playerXName),l(2),b(e.playerXScore),l(3),y("winning",e.playerOScore>e.playerXScore),l(3),b(e.game==null?null:e.game.playerOName),l(2),b(e.playerOScore),l(4),y("active",e.game==null?null:e.game.isPlayerXTurn),l(4),b((e.game==null?null:e.game.playerXName)||"Player X"),l(),h(e.game!=null&&e.game.isPlayerXTurn&&(e.game==null?null:e.game.status)===e.gameStatus.InProgress?31:-1),l(3),y("active",!(e.game!=null&&e.game.isPlayerXTurn)),l(4),b((e.game==null?null:e.game.playerOName)||"Player O"),l(),h(!(e.game!=null&&e.game.isPlayerXTurn)&&(e.game==null?null:e.game.status)===e.gameStatus.InProgress?39:-1),l(),P("ngClass",e.getStatusClass()),l(2),b(e.getStatusText()),l(),h(e.isPlayer?44:43),l(4),X(e.board),l(7),b(w(55,22,e.game==null?null:e.game.createdAt,"short")),l(2),h(e.game!=null&&e.game.completedAt?56:-1)}}function ae(a,t){a&1&&(o(0,"div",38)(1,"p"),s(2,"Would you like to play again with the same players?"),i()())}function oe(a,t){if(a&1){let e=x();o(0,"button",42),f("click",function(){m(e);let r=d(2);return p(r.tryAgain())}),s(1," \u{1F504} Try Again "),i(),o(2,"button",43),f("click",function(){m(e);let r=d(2);return p(r.endGame())}),s(3," \u{1F3C1} End Game "),i()}}function re(a,t){if(a&1){let e=x();o(0,"button",42),f("click",function(){m(e);let r=d(2);return p(r.endGame())}),s(1," \u2190 Back to Games "),i()}}function se(a,t){if(a&1){let e=x();o(0,"div",33),f("click",function(){m(e);let r=d();return p(r.closeDialog())}),o(1,"div",34),f("click",function(r){return m(e),p(r.stopPropagation())}),o(2,"div",35)(3,"h2"),s(4,"\u{1F3AE} Game Over!"),i()(),o(5,"div",36)(6,"div",37),s(7),i(),u(8,ae,3,0,"div",38),i(),o(9,"div",39),u(10,oe,4,0)(11,re,2,0,"button",40),i(),o(12,"button",41),f("click",function(){m(e);let r=d();return p(r.closeDialog())}),s(13,"\u2715"),i()()()}if(a&2){let e=d();l(7),v(" ",e.gameEndMessage," "),l(),h(e.isPlayer?8:-1),l(2),h(e.isPlayer?10:11)}}var L=class a{constructor(t,e,n,r,S,c){this.route=t;this.router=e;this.gameService=n;this.signalRService=r;this.auth=S;this.cdr=c}gameId;game;board=Array(9).fill(" ");spectatorCount=0;isPlayer=!1;playerName;loggedInUsername;gameStatus=A;loading=!0;error;isConnected=!1;playerXScore=0;playerOScore=0;showGameEndDialog=!1;gameEndMessage="";subscriptions=[];sessionKey="";ngOnInit(){this.loggedInUsername=this.getUsernameFromToken(),console.log("\u{1F510} Logged in user:",this.loggedInUsername);let t=this.router.url.split("/"),e=t[t.length-1];this.route.params.subscribe(n=>{this.gameId=+n.id,this.isPlayer=e==="play",console.log("\u{1F3AE} Game ID:",this.gameId),console.log("\u{1F3AE} Is Player:",this.isPlayer),this.initializeGame()})}getUsernameFromToken(){let t=this.auth.getAccessToken();if(t)try{let e=z(t);return e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"]||e.name||e.username||e.sub}catch(e){console.error("Error decoding token:",e);return}}buildSessionKey(t,e){let n=[t.toLowerCase(),e.toLowerCase()].sort();return`session_${n[0]}_vs_${n[1]}`}isNewGameSession(){if(!this.sessionKey||!this.game)return!1;let t=localStorage.getItem(this.sessionKey);if(!t)return!0;try{return JSON.parse(t).lastGameId!==this.gameId}catch{return!0}}loadScores(){if(!this.sessionKey)return;let t=localStorage.getItem(this.sessionKey);if(t)try{let e=JSON.parse(t);this.playerXScore=e.playerXScore||0,this.playerOScore=e.playerOScore||0,console.log("\u{1F4CA} Loaded scores:",e)}catch(e){console.error("Error loading scores:",e),this.playerXScore=0,this.playerOScore=0}}saveScores(){if(!this.sessionKey)return;let t={playerXScore:this.playerXScore,playerOScore:this.playerOScore,playerXName:this.game?.playerXName,playerOName:this.game?.playerOName,lastGameId:this.gameId,lastUpdated:new Date().toISOString()};localStorage.setItem(this.sessionKey,JSON.stringify(t)),console.log("\u{1F4BE} Saved scores:",t)}isGameAlreadyCounted(t){let e=`game_counted_${t}`;return localStorage.getItem(e)==="true"}markGameAsCounted(t){let e=`game_counted_${t}`;localStorage.setItem(e,"true"),console.log(`\u2705 Game ${t} marked as counted`)}unmarkGameAsCounted(t){let e=`game_counted_${t}`;localStorage.removeItem(e),console.log(`\u{1F504} Game ${t} unmarked (ready for new round)`)}initializeGame(){this.loadGame().subscribe({next:t=>{if(this.game=t,this.board=t.boardState.split(""),t.playerXName&&t.playerOName&&(this.sessionKey=this.buildSessionKey(t.playerXName,t.playerOName),this.isNewGameSession()?(console.log("\u{1F195} New game session detected - resetting scores to 0-0"),this.playerXScore=0,this.playerOScore=0,this.saveScores()):this.loadScores()),this.loading=!1,t.status!==0&&!this.showGameEndDialog&&!this.isGameAlreadyCounted(this.gameId)?this.handleGameEnd():t.status!==0&&this.isGameAlreadyCounted(this.gameId)&&(this.showGameEndDialog=!0,this.setGameEndMessage()),this.isPlayer)if(!this.loggedInUsername)console.warn("\u26A0\uFE0F Not logged in, switching to spectator mode"),this.isPlayer=!1;else{if(!(this.loggedInUsername.toLowerCase()===this.game?.playerXName?.toLowerCase()||this.loggedInUsername.toLowerCase()===this.game?.playerOName?.toLowerCase())){console.warn("\u26A0\uFE0F User trying to play game they are not part of"),this.error="\u274C You cannot play this game!",setTimeout(()=>{this.router.navigate(["/games",this.gameId,"watch"],{replaceUrl:!0})},3e3),this.loading=!1;return}this.playerName=this.loggedInUsername,console.log("\u2705 Playing as:",this.playerName)}else console.log("\u{1F441}\uFE0F Spectating game");this.connectToSignalR()},error:t=>{console.error("Error initializing game:",t),this.error="Failed to load game",this.loading=!1}})}loadGame(){return this.gameService.getGame(this.gameId)}connectToSignalR(){this.signalRService.startConnection(this.gameId,this.isPlayer).then(()=>{this.isConnected=!0,console.log("\u2705 Connected to SignalR"),this.subscribeToUpdates()}).catch(t=>{console.error("\u274C Failed to connect to SignalR:",t),this.isConnected=!1})}subscribeToUpdates(){let t=this.signalRService.getSpectatorCount().subscribe(c=>{this.spectatorCount=c,this.cdr.detectChanges()});this.subscriptions.push(t);let e=this.signalRService.getMoveMade().subscribe(c=>{c&&(console.log("\u{1F4E1} Received move from SignalR:",c),this.board[c.position]=c.symbol,this.loadGame().subscribe(g=>{this.game=g,this.board=g.boardState.split(""),g.status!==0&&!this.isGameAlreadyCounted(this.gameId)&&this.handleGameEnd(),this.cdr.detectChanges()}))});this.subscriptions.push(e);let n=this.signalRService.getGameStatusChanged().subscribe(c=>{c&&this.game&&(console.log("\u{1F3C1} Game status changed:",c),this.loadGame().subscribe(g=>{this.game=g,this.board=g.boardState.split(""),g.status!==0&&!this.isGameAlreadyCounted(this.gameId)&&this.handleGameEnd(),this.cdr.detectChanges()}))});this.subscriptions.push(n);let r=this.signalRService.getGameReset().subscribe(c=>{console.log("\u{1F504} Game Reset received:",c),c&&(this.unmarkGameAsCounted(this.gameId),this.loadGame().subscribe(g=>{this.game=g,this.board=g.boardState.split(""),this.showGameEndDialog=!1,this.cdr.detectChanges()}))});this.subscriptions.push(r);let S=this.signalRService.isConnected().subscribe(c=>{this.isConnected=c,this.cdr.detectChanges()});this.subscriptions.push(S)}setGameEndMessage(){this.game&&(this.game.status===1?this.gameEndMessage=`\u{1F389} ${this.game.playerXName} Wins!`:this.game.status===2?this.gameEndMessage=`\u{1F389} ${this.game.playerOName} Wins!`:this.game.status===3&&(this.gameEndMessage="\u{1F91D} It's a Draw!"),this.gameEndMessage+=`

Total Score: ${this.playerXScore} - ${this.playerOScore}`,this.playerXScore>this.playerOScore?this.gameEndMessage+=`
\u{1F3C6} ${this.game.playerXName} is leading!`:this.playerOScore>this.playerXScore?this.gameEndMessage+=`
\u{1F3C6} ${this.game.playerOName} is leading!`:(this.playerXScore>0||this.playerOScore>0)&&(this.gameEndMessage+=`
\u2696\uFE0F It's tied!`))}handleGameEnd(){if(this.game){if(this.isGameAlreadyCounted(this.gameId)){console.log("\u26A0\uFE0F Game already counted, skipping score increment"),this.setGameEndMessage(),this.showGameEndDialog=!0;return}console.log("\u{1F3AF} Handling game end, current scores:",{playerXScore:this.playerXScore,playerOScore:this.playerOScore,gameStatus:this.game.status}),this.game.status===1?(this.playerXScore++,this.gameEndMessage=`\u{1F389} ${this.game.playerXName} Wins!`,console.log("\u2705 Player X wins! New score:",this.playerXScore)):this.game.status===2?(this.playerOScore++,this.gameEndMessage=`\u{1F389} ${this.game.playerOName} Wins!`,console.log("\u2705 Player O wins! New score:",this.playerOScore)):this.game.status===3&&(this.gameEndMessage="\u{1F91D} It's a Draw!",console.log("\u{1F91D} Draw! Scores remain the same")),this.gameEndMessage+=`

Total Score: ${this.playerXScore} - ${this.playerOScore}`,this.playerXScore>this.playerOScore?this.gameEndMessage+=`
\u{1F3C6} ${this.game.playerXName} is leading!`:this.playerOScore>this.playerXScore?this.gameEndMessage+=`
\u{1F3C6} ${this.game.playerOName} is leading!`:(this.playerXScore>0||this.playerOScore>0)&&(this.gameEndMessage+=`
\u2696\uFE0F It's tied!`),this.markGameAsCounted(this.gameId),this.saveScores(),setTimeout(()=>{this.showGameEndDialog=!0,this.cdr.detectChanges()},1e3)}}canMakeMove(t){return!this.game||!this.isPlayer||this.game.status!==0||this.board[t]!==" "?!1:this.game.isPlayerXTurn?this.loggedInUsername?.toLowerCase()===this.game.playerXName?.toLowerCase():this.loggedInUsername?.toLowerCase()===this.game.playerOName?.toLowerCase()}makeMove(t){if(!this.canMakeMove(t)||!this.game||!this.loggedInUsername){console.warn("\u274C Cannot make move");return}let e=this.game.isPlayerXTurn?"X":"O";console.log("\u{1F3AF} Making move:",{gameId:this.gameId,position:t,playerName:this.loggedInUsername,symbol:e}),this.gameService.makeMove(this.gameId,{position:t,playerName:this.loggedInUsername}).subscribe({next:n=>{console.log("\u2705 Move successful:",n),this.game=n,this.board=n.boardState.split(""),this.isConnected&&this.signalRService.notifyMove(this.gameId,t,e),n.status!==0&&!this.isGameAlreadyCounted(this.gameId)&&this.handleGameEnd(),this.cdr.detectChanges()},error:n=>{console.error("\u274C Error making move:",n);let r="Failed to make move";n.error?.message?r=n.error.message:n.error?r=typeof n.error=="string"?n.error:JSON.stringify(n.error):n.message&&(r=n.message),alert(`\u274C ${r}`)}})}tryAgain(){this.game&&(this.loading=!0,this.showGameEndDialog=!1,this.cdr.detectChanges(),this.gameService.resetGame(this.gameId).subscribe({next:t=>{console.log("\u2705 Game reset successfully:",t),this.game=t,this.board=t.boardState.split(""),this.unmarkGameAsCounted(this.gameId),this.isConnected&&this.signalRService.hubConnection?.invoke("GameReset",this.gameId,t.boardState,t.status.toString()).catch(e=>console.error("Error notifying game reset:",e)),this.loading=!1,this.cdr.detectChanges()},error:t=>{console.error("\u274C Error resetting game:",t);let e="Failed to reset game";t.error?.message?e=t.error.message:t.error?e=typeof t.error=="string"?t.error:JSON.stringify(t.error):t.message&&(e=t.message),alert(`\u274C ${e}`),this.loading=!1,this.showGameEndDialog=!0,this.cdr.detectChanges()}}))}endGame(){this.showGameEndDialog=!1,this.router.navigate(["/games"])}closeDialog(){this.showGameEndDialog=!1,this.cdr.detectChanges()}getStatusText(){if(!this.game)return"";switch(this.game.status){case 0:return"Game in Progress";case 1:return`\u{1F389} ${this.game.playerXName} Wins!`;case 2:return`\u{1F389} ${this.game.playerOName} Wins!`;case 3:return"\u{1F91D} Draw!";default:return""}}getStatusClass(){if(!this.game)return"";switch(this.game.status){case 0:return"status-progress";case 1:return"status-x-wins";case 2:return"status-o-wins";case 3:return"status-draw";default:return""}}isMyTurn(){return!this.game||!this.loggedInUsername||!this.isPlayer?!1:this.game.isPlayerXTurn?this.loggedInUsername.toLowerCase()===this.game.playerXName?.toLowerCase():this.loggedInUsername.toLowerCase()===this.game.playerOName?.toLowerCase()}getMyRole(){return!this.game||!this.loggedInUsername?"Spectator":this.loggedInUsername.toLowerCase()===this.game.playerXName?.toLowerCase()?"Player X":this.loggedInUsername.toLowerCase()===this.game.playerOName?.toLowerCase()?"Player O":"Spectator"}goBack(){this.router.navigate(["/games"])}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.isConnected&&this.signalRService.leaveGame(this.gameId,this.isPlayer).then(()=>console.log("\u{1F44B} Left game successfully")).catch(t=>console.error("Error leaving game:",t)),this.signalRService.stopConnection()}static \u0275fac=function(e){return new(e||a)(_(B),_(j),_($),_(O),_(U),_(T))};static \u0275cmp=G({type:a,selectors:[["app-game-board"]],decls:5,vars:2,consts:[[1,"game-board-container"],[1,"loading"],[1,"error"],[1,"dialog-overlay"],[1,"btn","btn-primary",3,"click"],[1,"game-header"],[1,"header-top"],[1,"btn-back",3,"click"],[1,"score-board"],[1,"score-item"],[1,"score-symbol"],[1,"score-details"],[1,"score-name"],[1,"score-value"],[1,"score-divider"],[1,"players-info"],[1,"player","player-x"],[1,"player-symbol"],[1,"player-name"],[1,"turn-indicator"],[1,"vs"],[1,"player","player-o"],[1,"game-status",3,"ngClass"],[1,"spectator-badge"],[1,"player-badge"],[1,"board-wrapper"],[1,"board"],[1,"cell",3,"cell-x","cell-o","cell-empty","clickable","disabled"],[1,"game-info"],[1,"info-card"],[1,"cell",3,"click","disabled"],[1,"symbol","symbol-x"],[1,"symbol","symbol-o"],[1,"dialog-overlay",3,"click"],[1,"dialog-content",3,"click"],[1,"dialog-header"],[1,"dialog-body"],[1,"result-message"],[1,"dialog-message"],[1,"dialog-actions"],[1,"btn","btn-primary","btn-large"],[1,"dialog-close",3,"click"],[1,"btn","btn-primary","btn-large",3,"click"],[1,"btn","btn-secondary","btn-large",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0),u(1,K,3,0,"div",1)(2,Y,5,1,"div",2)(3,ie,57,25),u(4,se,14,3,"div",3),i()),e&2&&(l(),h(n.loading?1:n.error?2:3),l(3),h(n.showGameEndDialog?4:-1))},dependencies:[R,N,D],styles:[".game-board-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{text-align:center;padding:40px}.loading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px}.game-header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000001a;margin-bottom:30px}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header-top[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;flex:1;text-align:center}.btn-back[_ngcontent-%COMP%]{padding:8px 16px;background:#6c757d;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px}.btn-back[_ngcontent-%COMP%]:hover{background:#5a6268}.connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 12px;border-radius:20px;background:#f8d7da;color:#721c24;font-size:12px}.connection-status.connected[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#28a745}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#dc3545;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.score-board[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;margin-bottom:20px;box-shadow:0 4px 12px #667eea4d}.score-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;background:#fff3;border-radius:8px;transition:all .3s ease}.score-item.winning[_ngcontent-%COMP%]{background:#ffd7004d;transform:scale(1.05);box-shadow:0 0 20px #ffd70080}.score-item[_ngcontent-%COMP%]   .score-symbol[_ngcontent-%COMP%]{font-size:32px}.score-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.score-details[_ngcontent-%COMP%]   .score-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:14px}.score-details[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:24px;text-align:center}.score-divider[_ngcontent-%COMP%]{color:#fff;font-size:32px;font-weight:700}.spectators-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px;background:#e3f2fd;border-radius:8px;margin-bottom:15px}.spectators-count[_ngcontent-%COMP%]   .spectator-icon[_ngcontent-%COMP%]{font-size:20px}.players-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px;margin-bottom:15px}.players-info[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 15px;border-radius:8px;background:#f8f9fa;flex:1;transition:all .3s ease}.players-info[_ngcontent-%COMP%]   .player.active[_ngcontent-%COMP%]{background:#fff3cd;border:2px solid #ffc107;transform:scale(1.02)}.players-info[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-symbol[_ngcontent-%COMP%]{font-size:24px}.players-info[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{font-weight:600;flex:1}.players-info[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .turn-indicator[_ngcontent-%COMP%]{color:#ffc107;font-weight:700;font-size:12px}.players-info[_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]{font-weight:700;color:#6c757d;font-size:18px}.game-status[_ngcontent-%COMP%]{text-align:center;padding:15px;border-radius:8px;margin-bottom:15px}.game-status[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px}.game-status.status-progress[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.game-status.status-x-wins[_ngcontent-%COMP%], .game-status.status-o-wins[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.game-status.status-draw[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.spectator-badge[_ngcontent-%COMP%], .player-badge[_ngcontent-%COMP%]{text-align:center;padding:10px;border-radius:6px;font-size:14px;font-weight:500}.spectator-badge[_ngcontent-%COMP%]{background:#e2e3e5;color:#383d41}.player-badge[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.board-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}.board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,120px);grid-template-rows:repeat(3,120px);gap:10px;background:#fff;padding:15px;border-radius:12px;box-shadow:0 4px 12px #00000026}.cell[_ngcontent-%COMP%]{border:3px solid #dee2e6;border-radius:8px;background:#fff;cursor:not-allowed;font-size:48px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cell.clickable[_ngcontent-%COMP%]{cursor:pointer}.cell.clickable[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#6c757d;transform:scale(1.05)}.cell.cell-x[_ngcontent-%COMP%]{background:#fff5f5;border-color:#e53e3e}.cell.cell-o[_ngcontent-%COMP%]{background:#f0f9ff;border-color:#3182ce}.cell[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_popIn .3s ease}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}.game-info[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.info-card[_ngcontent-%COMP%]{background:#fff;padding:15px 25px;border-radius:8px;box-shadow:0 2px 6px #0000001a;text-align:center}.info-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#6c757d;font-size:14px;font-weight:500}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;color:#212529}.dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.dialog-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000004d;max-width:500px;width:90%;position:relative;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px;border-radius:16px 16px 0 0;text-align:center}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:28px}.dialog-body[_ngcontent-%COMP%]{padding:30px}.result-message[_ngcontent-%COMP%]{text-align:center;font-size:32px;font-weight:700;margin-bottom:30px;color:#212529}.final-score[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;padding:20px;background:linear-gradient(135deg,#f093fb,#f5576c);border-radius:12px;margin-bottom:20px}.final-score-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.final-score-item[_ngcontent-%COMP%]   .final-symbol[_ngcontent-%COMP%]{font-size:40px}.final-score-item[_ngcontent-%COMP%]   .final-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:16px}.final-score-item[_ngcontent-%COMP%]   .final-value[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:36px}.final-divider[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.dialog-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:16px}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:15px;padding:0 30px 30px}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5568d3,#63428a)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn-large[_ngcontent-%COMP%]{flex:1;padding:16px;font-size:18px}.dialog-close[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:#ffffff4d;color:#fff;border:none;border-radius:50%;width:40px;height:40px;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.dialog-close[_ngcontent-%COMP%]:hover{background:#ffffff80;transform:rotate(90deg)}@media (max-width: 768px){.board[_ngcontent-%COMP%]{grid-template-columns:repeat(3,90px);grid-template-rows:repeat(3,90px);gap:8px}.cell[_ngcontent-%COMP%]{font-size:36px}.score-board[_ngcontent-%COMP%], .players-info[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.dialog-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{L as GameBoard};
